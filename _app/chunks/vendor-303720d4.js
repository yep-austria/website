var We=Object.defineProperty,Ye=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var _e=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&_e(e,n,t[n]);if(z)for(var n of z(t))pe.call(t,n)&&_e(e,n,t[n]);return e},_=(e,t)=>Ye(e,Qe(t));var J=(e,t)=>{var n={};for(var i in e)me.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&z)for(var i of z(e))t.indexOf(i)<0&&pe.call(e,i)&&(n[i]=e[i]);return n};function E(){}function Ke(e,t){for(const n in t)e[n]=t[n];return e}function be(e){return e()}function we(){return Object.create(null)}function I(e){e.forEach(be)}function Ze(e){return typeof e=="function"}function Ve(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let H;function Qt(e,t){return H||(H=document.createElement("a")),H.href=t,e===H.href}function Je(e){return Object.keys(e).length===0}function Kt(e,t,n,i){if(e){const r=Re(e,t,n,i);return e[0](r)}}function Re(e,t,n,i){return e[1]&&i?Ke(n.ctx.slice(),e[1](i(t))):n.ctx}function Zt(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const a=[],s=Math.max(t.dirty.length,r.length);for(let c=0;c<s;c+=1)a[c]=t.dirty[c]|r[c];return a}return t.dirty|r}return t.dirty}function Vt(e,t,n,i,r,a){if(r){const s=Re(t,n,i,a);e.p(s,r)}}function Jt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}let G=!1;function Xe(){G=!0}function et(){G=!1}function tt(e,t,n,i){for(;e<t;){const r=e+(t-e>>1);n(r)<=i?e=r+1:t=r}return e}function nt(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const o=[];for(let l=0;l<t.length;l++){const h=t[l];h.claim_order!==void 0&&o.push(h)}t=o}const n=new Int32Array(t.length+1),i=new Int32Array(t.length);n[0]=-1;let r=0;for(let o=0;o<t.length;o++){const l=t[o].claim_order,h=(r>0&&t[n[r]].claim_order<=l?r+1:tt(1,r,g=>t[n[g]].claim_order,l))-1;i[o]=n[h]+1;const d=h+1;n[d]=o,r=Math.max(d,r)}const a=[],s=[];let c=t.length-1;for(let o=n[r]+1;o!=0;o=i[o-1]){for(a.push(t[o-1]);c>=o;c--)s.push(t[c]);c--}for(;c>=0;c--)s.push(t[c]);a.reverse(),s.sort((o,l)=>o.claim_order-l.claim_order);for(let o=0,l=0;o<s.length;o++){for(;l<a.length&&s[o].claim_order>=a[l].claim_order;)l++;const h=l<a.length?a[l]:null;e.insertBefore(s[o],h)}}function it(e,t){if(G){for(nt(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function rt(e,t,n){e.insertBefore(t,n||null)}function st(e,t,n){G&&!n?it(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function U(e){e.parentNode.removeChild(e)}function Xt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function xe(e){return document.createElement(e)}function X(e){return document.createTextNode(e)}function en(){return X(" ")}function tn(){return X("")}function nn(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function at(e){return Array.from(e.childNodes)}function ve(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Te(e,t,n,i,r=!1){ve(e);const a=(()=>{for(let s=e.claim_info.last_index;s<e.length;s++){const c=e[s];if(t(c)){const o=n(c);return o===void 0?e.splice(s,1):e[s]=o,r||(e.claim_info.last_index=s),c}}for(let s=e.claim_info.last_index-1;s>=0;s--){const c=e[s];if(t(c)){const o=n(c);return o===void 0?e.splice(s,1):e[s]=o,r?o===void 0&&e.claim_info.last_index--:e.claim_info.last_index=s,c}}return i()})();return a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,a}function ot(e,t,n,i){return Te(e,r=>r.nodeName===t,r=>{const a=[];for(let s=0;s<r.attributes.length;s++){const c=r.attributes[s];n[c.name]||a.push(c.name)}a.forEach(s=>r.removeAttribute(s))},()=>i(t))}function rn(e,t,n){return ot(e,t,n,xe)}function ct(e,t){return Te(e,n=>n.nodeType===3,n=>{const i=""+t;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>X(t),!0)}function sn(e){return ct(e," ")}function $e(e,t,n){for(let i=n;i<e.length;i+=1){const r=e[i];if(r.nodeType===8&&r.textContent.trim()===t)return i}return e.length}function an(e){const t=$e(e,"HTML_TAG_START",0),n=$e(e,"HTML_TAG_END",t);if(t===n)return new ke;ve(e);const i=e.splice(t,n+1);U(i[0]),U(i[i.length-1]);const r=i.slice(1,i.length-1);for(const a of r)a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1;return new ke(r)}function on(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function cn(e,t=document.body){return Array.from(t.querySelectorAll(e))}class lt{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.e=xe(n.nodeName),this.t=n,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)rt(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(U)}}class ke extends lt{constructor(t){super();this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let n=0;n<this.n.length;n+=1)st(this.t,this.n[n],t)}}let O;function W(e){O=e}function ee(){if(!O)throw new Error("Function called outside component initialization");return O}function ln(e){ee().$$.on_mount.push(e)}function un(e){ee().$$.after_update.push(e)}function fn(e,t){ee().$$.context.set(e,t)}const N=[],Se=[],Y=[],Ae=[],ut=Promise.resolve();let te=!1;function ft(){te||(te=!0,ut.then(Be))}function ne(e){Y.push(e)}let ie=!1;const re=new Set;function Be(){if(!ie){ie=!0;do{for(let e=0;e<N.length;e+=1){const t=N[e];W(t),ht(t.$$)}for(W(null),N.length=0;Se.length;)Se.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];re.has(t)||(re.add(t),t())}Y.length=0}while(N.length);for(;Ae.length;)Ae.pop()();te=!1,ie=!1,re.clear()}}function ht(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ne)}}const Q=new Set;let $;function hn(){$={r:0,c:[],p:$}}function dn(){$.r||I($.c),$=$.p}function dt(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function gn(e,t,n,i){if(e&&e.o){if(Q.has(e))return;Q.add(e),$.c.push(()=>{Q.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function yn(e,t){const n={},i={},r={$$scope:1};let a=e.length;for(;a--;){const s=e[a],c=t[a];if(c){for(const o in s)o in c||(i[o]=1);for(const o in c)r[o]||(n[o]=c[o],r[o]=1);e[a]=c}else for(const o in s)r[o]=1}for(const s in i)s in n||(n[s]=void 0);return n}function mn(e){return typeof e=="object"&&e!==null?e:{}}function pn(e){e&&e.c()}function _n(e,t){e&&e.l(t)}function gt(e,t,n,i){const{fragment:r,on_mount:a,on_destroy:s,after_update:c}=e.$$;r&&r.m(t,n),i||ne(()=>{const o=a.map(be).filter(Ze);s?s.push(...o):I(o),e.$$.on_mount=[]}),c.forEach(ne)}function yt(e,t){const n=e.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(e,t){e.$$.dirty[0]===-1&&(N.push(e),ft(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function bn(e,t,n,i,r,a,s,c=[-1]){const o=O;W(e);const l=e.$$={fragment:null,ctx:null,props:a,update:E,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(o?o.$$.context:[])),callbacks:we(),dirty:c,skip_bound:!1,root:t.target||o.$$.root};s&&s(l.root);let h=!1;if(l.ctx=n?n(e,t.props||{},(d,g,...b)=>{const T=b.length?b[0]:g;return l.ctx&&r(l.ctx[d],l.ctx[d]=T)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](T),h&&mt(e,d)),g}):[],l.update(),h=!0,I(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){Xe();const d=at(t.target);l.fragment&&l.fragment.l(d),d.forEach(U)}else l.fragment&&l.fragment.c();t.intro&&dt(e.$$.fragment),gt(e,t.target,t.anchor,t.customElement),et(),Be()}W(o)}class wn{$destroy(){yt(this,1),this.$destroy=E}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!Je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const k=[];function Rn(e,t=E){let n;const i=new Set;function r(c){if(Ve(e,c)&&(e=c,n)){const o=!k.length;for(const l of i)l[1](),k.push(l,e);if(o){for(let l=0;l<k.length;l+=2)k[l][0](k[l+1]);k.length=0}}}function a(c){r(c(e))}function s(c,o=E){const l=[c,o];return i.add(l),i.size===1&&(n=t(r)||E),c(e),()=>{i.delete(l),i.size===0&&(n(),n=null)}}return{set:r,update:a,subscribe:s}}const u={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},x={Any:"Any",Document:"Document",Media:"Media",Web:"Web"},K=()=>(++K.i).toString();K.i=0;const pt=e=>{const t=_t(e),n=[];for(let i=0;i<t.length;i++)n.push(Me(t[i]));return{key:K(),children:n}},P=(e,t=[])=>({key:K(),type:e.type,text:"text"in e?e.text:void 0,node:e,children:t}),se=e=>P({type:u.span,text:e,spans:[]}),_t=e=>{const t=e.slice(0);for(let n=0;n<t.length;n++){const i=t[n];if(i.type===u.listItem||i.type===u.oListItem){const r=[i];for(;t[n+1]&&t[n+1].type===i.type;)r.push(t[n+1]),t.splice(n,1);i.type===u.listItem?t[n]={type:u.list,items:r}:t[n]={type:u.oList,items:r}}}return t},Me=e=>{if("text"in e)return P(e,Le(e.spans,e));if("items"in e){const t=[];for(let n=0;n<e.items.length;n++)t.push(Me(e.items[n]));return P(e,t)}return P(e)},Le=(e,t,n)=>{if(!e.length)return[se(t.text)];const i=e.slice(0),r=[];for(let a=0;a<i.length;a++){const s=i[a],c=n&&n.start||0,o=s.start-c,l=s.end-c,h=[];for(let d=0;d<i.length;d++){const g=i[d];g!==s&&g.start>=s.start&&g.end<=s.end&&(h.push(g),i.splice(d,1),d--)}a===0&&o>0&&r.push(se(t.text.slice(0,o))),r.push(P(s,Le(h,_(p({},t),{text:t.text.slice(o,l)}),s))),l<t.text.length&&r.push(se(t.text.slice(l,i[a+1]?i[a+1].start-c:void 0)))}return r},bt=(e,t)=>Ee(pt(e).children,t),Ee=(e,t)=>{const n=[];for(let i=0;i<e.length;i++){const r=e[i],a=t(r.type,r.node,r.text,Ee(r.children,t),r.key);a!=null&&n.push(a)}return n},wt={[u.listItem]:"listItem",[u.oListItem]:"oListItem",[u.list]:"list",[u.oList]:"oList"},Rt=e=>(t,n,i,r,a)=>{const s=e[wt[t]||t];if(s)return s({type:t,node:n,text:i,children:r,key:a})},xt=(...e)=>(...t)=>{for(let n=0;n<e.length;n++){const i=e[n](...t);if(i!=null)return i}};/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var vt=/["'&<>]/,j=Tt;function Tt(e){var t=""+e,n=vt.exec(t);if(!n)return t;var i,r="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==a&&(r+=t.substring(s,a)),s=a+1,r+=i}return s!==a?r+t.substring(s,a):r}const $t=e=>{var t,n;return p({link_type:x.Document,id:e.id,uid:(t=e.uid)!=null?t:void 0,type:e.type,tags:e.tags,lang:e.lang,url:(n=e.url)!=null?n:void 0,slug:e.slugs[0]},Object.keys(e.data).length>0?{data:e.data}:{})},Ie=(e,t)=>{if(!e)return null;const n="link_type"in e?e:$t(e);switch(n.link_type){case x.Media:case x.Web:return"url"in n?n.url:null;case x.Document:{if("id"in n&&t){const i=t(n);if(i!=null)return i}return"url"in n&&n.url?n.url:null}case x.Any:default:return null}},S=e=>"data"in e&&"label"in e.data?` class="${e.data.label}"`:"",m=(e,t,n)=>`<${e}${S(t)}>${n.join("")}</${e}>`,kt=e=>`<pre${S(e)}>${j(e.text)}</pre>`,St=(e,t)=>{let n=`<img src="${t.url}" alt="${j(t.alt)}"${t.copyright?` copyright="${j(t.copyright)}"`:""} />`;return t.linkTo&&(n=Ne(e,{type:u.hyperlink,data:t.linkTo,start:0,end:0},[n])),`<p class="block-img">${n}</p>`},At=e=>`<div data-oembed="${e.oembed.embed_url}" data-oembed-type="${e.oembed.type}" data-oembed-provider="${e.oembed.provider_name}"${S(e)}>${e.oembed.html}</div>`,Ne=(e,t,n)=>{switch(t.data.link_type){case x.Web:return`<a href="${j(t.data.url)}" target="${t.data.target}" rel="noopener noreferrer"${S(t)}>${n.join("")}</a>`;case x.Document:return`<a href="${Ie(t.data,e)}"${S(t)}>${n.join("")}</a>`;case x.Media:return`<a href="${t.data.url}"${S(t)}>${n.join("")}</a>`}},Bt=e=>e?j(e).replace(/\n/g,"<br />"):"",Pe=e=>(t,n,i,r,a)=>{switch(n.type){case u.heading1:return m("h1",n,r);case u.heading2:return m("h2",n,r);case u.heading3:return m("h3",n,r);case u.heading4:return m("h4",n,r);case u.heading5:return m("h5",n,r);case u.heading6:return m("h6",n,r);case u.paragraph:return m("p",n,r);case u.preformatted:return kt(n);case u.strong:return m("strong",n,r);case u.em:return m("em",n,r);case u.listItem:return m("li",n,r);case u.oListItem:return m("li",n,r);case u.list:return m("ul",n,r);case u.oList:return m("ol",n,r);case u.image:return St(e,n);case u.embed:return At(n);case u.hyperlink:return Ne(e,n,r);case u.label:return m("span",n,r);case u.span:default:return Bt(i)}},Mt=e=>{const t={};for(const n in e){const i=e[n];i&&(t[n]=r=>i(_(p({},r),{children:r.children.join("")})))}return Rt(t)},xn=(e,t,n)=>{let i;return n?i=xt(typeof n=="object"?Mt(n):(r,a,s,c,o)=>n(r,a,s,c.join(""),o),Pe(t)):i=Pe(t),bt(e,i).join("")},vn=e=>`https://${e}.cdn.prismic.io/api/v2`,F=e=>Array.isArray(e)?e:[e],Lt={accessToken:"access_token"},Et=e=>typeof e=="string"?e:[e.field,e.direction==="desc"?e.direction:void 0].filter(Boolean).join(" "),It=(e,t)=>{var n;const s=t,{predicates:i}=s,r=J(s,["predicates"]),a=new URL("documents/search",`${e}/`);if(i)for(const c of F(i))a.searchParams.append("q",`[${c}]`);for(const c in r){const o=(n=Lt[c])!=null?n:c;let l=r[c];if(o==="orderings"){const h=r[o];h!=null&&(l=`[${F(h).map(g=>Et(g)).join(",")}]`)}else o==="routes"&&typeof r[o]=="object"&&(l=JSON.stringify(F(r[o])));l!=null&&a.searchParams.set(o,F(l).join(","))}return a.toString()},y=(e={},t)=>_(p({},e),{predicates:[...e.predicates||[],...F(t)]}),Nt=e=>typeof e=="function"?e:()=>e;class v extends Error{constructor(t="An invalid API response was returned",n,i){super(t);this.url=n,this.response=i}}const ae=(e,t)=>{const n=e.find(i=>t(i));if(!n)throw new v("Ref could not be found.",void 0,void 0);return n},je=e=>ae(e,t=>t.isMasterRef),oe=(e,t)=>ae(e,n=>n.id===t),ce=(e,t)=>ae(e,n=>n.label===t),Fe=e=>e.replace(/%3B/g,";"),Pt=e=>{const t={},n=e.split("; ");for(const i of n){const r=i.split("="),a=r.slice(1).join("="),s=Fe(r[0]).replace(/%3D/g,"=");t[s]=Fe(a)}return t},jt=e=>Pt(e),De=(e,t)=>jt(t)[e];class Ft extends v{}class Dt extends v{}const Ce=e=>Array.isArray(e)?`[${e.map(Ce).join(", ")}]`:typeof e=="string"?`"${e}"`:e instanceof Date?`${e.getTime()}`:`${e}`,f=e=>(n,...i)=>{const r=i.map(Ce).join(", "),a=n&&i.length?", ":"";return`[${e}(${n}${a}${r})]`},qe=e=>{const t=f(e);return i=>t(i)},Ct=e=>{const t=f(e);return(...i)=>t("",...i)},R={at:f("at"),not:f("not"),any:f("any"),in:f("in"),fulltext:f("fulltext"),has:qe("has"),missing:qe("missing"),similar:Ct("similar"),geopointNear:f("geopoint.near"),numberLessThan:f("number.lt"),numberGreaterThan:f("number.gt"),numberInRange:f("number.inRange"),dateAfter:f("date.after"),dateBefore:f("date.before"),dateBetween:f("date.between"),dateDayOfMonth:f("date.day-of-month"),dateDayOfMonthAfter:f("date.day-of-month-after"),dateDayOfMonthBefore:f("date.day-of-month-before"),dateDayOfWeek:f("date.day-of-week"),dateDayOfWeekAfter:f("date.day-of-week-after"),dateDayOfWeekBefore:f("date.day-of-week-before"),dateMonth:f("date.month"),dateMonthAfter:f("date.month-after"),dateMonthBefore:f("date.month-before"),dateYear:f("date.year"),dateHour:f("date.hour"),dateHourAfter:f("date.hour-after"),dateHourBefore:f("date.hour-before")},ze="io.prismic.preview",qt=100,zt=5e3,Ht=500;var w;(function(e){e.Master="Master",e.ReleaseID="ReleaseID",e.ReleaseLabel="ReleaseLabel",e.Manual="Manual"})(w||(w={}));const A=e=>R.at("document.type",e),Z=e=>R.at("document.tags",e),He=e=>R.any("document.tags",e),Tn=(...e)=>new Gt(...e);class Gt{constructor(t,n={}){if(this.refState={mode:w.Master,autoPreviewsEnabled:!0},this.cachedRepositoryExpiration=0,this.endpoint=t,this.accessToken=n.accessToken,this.routes=n.routes,this.defaultParams=n.defaultParams,n.ref&&this.queryContentFromRef(n.ref),typeof n.fetch=="function")this.fetchFn=n.fetch;else if(typeof globalThis.fetch=="function")this.fetchFn=globalThis.fetch;else throw new v("A valid fetch implementation was not provided. In environments where fetch is not available (including Node.js), a fetch implementation must be provided via a polyfill or the `fetch` option.",void 0,void 0);this.fetchFn===globalThis.fetch&&(this.fetchFn=this.fetchFn.bind(globalThis))}enableAutoPreviews(){this.refState.autoPreviewsEnabled=!0}enableAutoPreviewsFromReq(t){this.refState.httpRequest=t,this.refState.autoPreviewsEnabled=!0}disableAutoPreviews(){this.refState.autoPreviewsEnabled=!1}async query(t,n){const i=await this.buildQueryURL(_(p({},n),{predicates:t}));return await this.fetch(i,n)}async get(t){const n=await this.buildQueryURL(t);return await this.fetch(n,t)}async getFirst(t){const n=await this.buildQueryURL(t),r=(await this.fetch(n,t)).results[0];if(r)return r;throw new v("No documents were returned",n,void 0)}async dangerouslyGetAll(t={}){const c=t,{limit:n=1/0}=c,i=J(c,["limit"]),r=_(p({},i),{pageSize:i.pageSize||qt}),a=[];let s;for(;(!s||s.next_page)&&a.length<n;){const o=s?s.page+1:void 0;s=await this.get(_(p({},r),{page:o})),a.push(...s.results),s.next_page&&await new Promise(l=>setTimeout(l,Ht))}return a.slice(0,n)}async getByID(t,n){return await this.getFirst(y(n,R.at("document.id",t)))}async getByIDs(t,n){return await this.get(y(n,R.in("document.id",t)))}async getAllByIDs(t,n){return await this.dangerouslyGetAll(y(n,R.in("document.id",t)))}async getByUID(t,n,i){return await this.getFirst(y(i,[A(t),R.at(`my.${t}.uid`,n)]))}async getByUIDs(t,n,i){return await this.get(y(i,[A(t),R.in(`my.${t}.uid`,n)]))}async getAllByUIDs(t,n,i){return await this.dangerouslyGetAll(y(i,[A(t),R.in(`my.${t}.uid`,n)]))}async getSingle(t,n){return await this.getFirst(y(n,A(t)))}async getByType(t,n){return await this.get(y(n,A(t)))}async getAllByType(t,n){return await this.dangerouslyGetAll(y(n,A(t)))}async getByTag(t,n){return await this.get(y(n,Z(t)))}async getAllByTag(t,n){return await this.dangerouslyGetAll(y(n,Z(t)))}async getByEveryTag(t,n){return await this.get(y(n,Z(t)))}async getAllByEveryTag(t,n){return await this.dangerouslyGetAll(y(n,Z(t)))}async getBySomeTags(t,n){return await this.get(y(n,He(t)))}async getAllBySomeTags(t,n){return await this.dangerouslyGetAll(y(n,He(t)))}async getRepository(){const t=new URL(this.endpoint);return this.accessToken&&t.searchParams.set("access_token",this.accessToken),await this.fetch(t.toString())}async getRefs(){return(await this.getRepository()).refs}async getRefByID(t){const n=await this.getRefs();return oe(n,t)}async getRefByLabel(t){const n=await this.getRefs();return ce(n,t)}async getMasterRef(){const t=await this.getRefs();return je(t)}async getReleases(){return(await this.getRefs()).filter(n=>!n.isMasterRef)}async getReleaseByID(t){const n=await this.getReleases();return oe(n,t)}async getReleaseByLabel(t){const n=await this.getReleases();return ce(n,t)}async getTags(){try{const t=await this.getCachedRepositoryForm("tags");return await this.fetch(t.action)}catch{return(await this.getRepository()).tags}}async buildQueryURL(t={}){const n=t.ref||await this.getResolvedRefString(),i=t.integrationFieldsRef||(await this.getCachedRepository()).integrationFieldsRef||void 0;return It(this.endpoint,_(p(p({},this.defaultParams),t),{ref:n,integrationFieldsRef:i,routes:t.routes||this.routes,accessToken:t.accessToken||this.accessToken}))}async resolvePreviewURL(t){var n;let i=t.documentID,r=t.previewToken;if(typeof globalThis.location!="undefined"){const a=new URLSearchParams(globalThis.location.search);i=i||a.get("documentId")||void 0,r=r||a.get("token")||void 0}else((n=this.refState.httpRequest)==null?void 0:n.query)&&(i=i||this.refState.httpRequest.query.documentId,r=r||this.refState.httpRequest.query.token);if(i!=null){const a=await this.getByID(i,{ref:r});return Ie(a,t.linkResolver)}else return t.defaultURL}queryLatestContent(){this.refState.mode=w.Master}queryContentFromReleaseByID(t){this.refState=_(p({},this.refState),{mode:w.ReleaseID,releaseID:t})}queryContentFromReleaseByLabel(t){this.refState=_(p({},this.refState),{mode:w.ReleaseLabel,releaseLabel:t})}queryContentFromRef(t){this.refState=_(p({},this.refState),{mode:w.Manual,ref:t})}async getCachedRepository(){return(!this.cachedRepository||Date.now()>=this.cachedRepositoryExpiration)&&(this.cachedRepositoryExpiration=Date.now()+zt,this.cachedRepository=await this.getRepository()),this.cachedRepository}async getCachedRepositoryForm(t){const i=(await this.getCachedRepository()).forms[t];if(!i)throw new v(`Form with name "${t}" could not be found`,void 0,void 0);return i}async getResolvedRefString(){var t,n,i;if(this.refState.autoPreviewsEnabled){let s;if(((t=globalThis.document)==null?void 0:t.cookie)?s=De(ze,globalThis.document.cookie):((i=(n=this.refState.httpRequest)==null?void 0:n.headers)==null?void 0:i.cookie)&&(s=De(ze,this.refState.httpRequest.headers.cookie)),s)return s}const r=await this.getCachedRepository(),a=this.refState.mode;if(a===w.ReleaseID)return oe(r.refs,this.refState.releaseID).ref;if(a===w.ReleaseLabel)return ce(r.refs,this.refState.releaseLabel).ref;if(a===w.Manual){const s=await Nt(this.refState.ref)();if(typeof s=="string")return s}return je(r.refs).ref}async fetch(t,n){const i=await this.fetchFn(t);let r;try{r=await i.json()}catch{throw new v(void 0,t,void 0)}switch(i.status){case 200:return r;case 400:throw new Dt(r.message,t,r);case 401:case 403:throw new Ft("error"in r?r.error:r.message,t,r)}throw new v(void 0,t,r)}}/**
 * filesize
 *
 * @copyright 2021 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 8.0.6
 */const Ut=/^(b|B)$/,Ge={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},Ot={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},Wt={floor:Math.floor,ceil:Math.ceil};function Ue(e,t={}){let n=[],i=0,r,a,s,c,o,l,h,d,g,b,T,le,D,V,B,C,ue,q,fe,he,M;if(isNaN(e))throw new TypeError("Invalid number");if(s=t.bits===!0,B=t.unix===!0,le=t.pad===!0,a=t.base||10,D=t.round!==void 0?t.round:B?1:2,h=t.locale!==void 0?t.locale:"",d=t.localeOptions||{},C=t.separator!==void 0?t.separator:"",ue=t.spacer!==void 0?t.spacer:B?"":" ",fe=t.symbols||{},q=a===2?t.standard||"iec":"jedec",T=t.output||"string",o=t.fullform===!0,l=t.fullforms instanceof Array?t.fullforms:[],r=t.exponent!==void 0?t.exponent:-1,he=Wt[t.roundingMethod]||Math.round,b=Number(e),g=b<0,c=a>2?1e3:1024,M=isNaN(t.precision)===!1?parseInt(t.precision,10):0,g&&(b=-b),(r===-1||isNaN(r))&&(r=Math.floor(Math.log(b)/Math.log(c)),r<0&&(r=0)),r>8&&(M>0&&(M+=8-r),r=8),T==="exponent")return r;if(b===0)n[0]=0,V=n[1]=B?"":Ge[q][s?"bits":"bytes"][r];else{i=b/(a===2?Math.pow(2,r*10):Math.pow(1e3,r)),s&&(i=i*8,i>=c&&r<8&&(i=i/c,r++));const L=Math.pow(10,r>0?D:0);n[0]=he(i*L)/L,n[0]===c&&r<8&&t.exponent===void 0&&(n[0]=1,r++),V=n[1]=a===10&&r===1?s?"kbit":"kB":Ge[q][s?"bits":"bytes"][r],B&&(n[1]=n[1].charAt(0),Ut.test(n[1])&&(n[0]=Math.floor(n[0]),n[1]=""))}if(g&&(n[0]=-n[0]),M>0&&(n[0]=n[0].toPrecision(M)),n[1]=fe[n[1]]||n[1],h===!0?n[0]=n[0].toLocaleString():h.length>0?n[0]=n[0].toLocaleString(h,d):C.length>0&&(n[0]=n[0].toString().replace(".",C)),le&&Number.isInteger(n[0])===!1&&D>0){const L=C||".",de=n[0].toString().split(L),ge=de[1]||"",ye=ge.length,Oe=D-ye;n[0]=`${de[0]}${L}${ge.padEnd(ye+Oe,"0")}`}return o&&(n[1]=l[r]?l[r]:Ot[q][r]+(s?"bit":"byte")+(n[0]===1?"":"s")),T==="array"?n:T==="object"?{value:n[0],symbol:n[1],exponent:r,unit:V}:n.join(ue)}Ue.partial=e=>t=>Ue(t,e);export{ln as A,Ke as B,Rn as C,it as D,E,Kt as F,Vt as G,Jt as H,Zt as I,cn as J,Qt as K,Tn as L,vn as M,xn as N,Ue as O,ke as P,an as Q,Xt as R,wn as S,at as a,nn as b,rn as c,U as d,xe as e,st as f,ct as g,on as h,bn as i,pn as j,en as k,tn as l,_n as m,sn as n,gt as o,yn as p,mn as q,hn as r,Ve as s,X as t,gn as u,yt as v,dn as w,dt as x,fn as y,un as z};
